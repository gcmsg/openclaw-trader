# openclaw-trader

> åŸºäº [OpenClaw](https://openclaw.ai) çš„ AI é©±åŠ¨åŠ å¯†è´§å¸äº¤æ˜“æœºå™¨äºº

[ğŸ‡¬ğŸ‡§ English README](./README.md)

---

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **æŠ€æœ¯åˆ†æ** â€” EMAï¼ˆ20/60ï¼‰+ RSI Wilderï¼ˆ14ï¼‰+ MACD + ATR + VWAP æ—¥å†…ï¼ˆÂ±1Ïƒ/Â±2Ïƒï¼‰+ CVD
- âš™ï¸ **é…ç½®é©±åŠ¨ç­–ç•¥** â€” ç¼–è¾‘ `config/strategy.yaml` å³å¯ï¼Œæ— éœ€æ”¹ä»£ç 
- ğŸ—ï¸ **æ–°é—»æƒ…ç»ª** â€” ææƒ§è´ªå©ª + LLM è¯­ä¹‰è¯„åˆ† + å…³é”®è¯é—¨æ§ + 6 å°æ—¶ç¼“å­˜
- ğŸš¨ **çªå‘æ–°é—»ç›‘æ§** â€” æ¯ 10 åˆ†é’Ÿæ‰« 30 ä¸ªé«˜å±è¯ï¼ˆhack/SEC/è„±é”šï¼‰ï¼›è§¦å‘åæš‚åœå¼€ä»“ 2 å°æ—¶
- ğŸ­ **æ¨¡æ‹Ÿç›˜** â€” ä½¿ç”¨çœŸå®ä»·æ ¼ï¼Œè®°å½•ç›ˆäº/èƒœç‡/Calmar æ¯”ç‡
- ğŸ”¬ **å›æµ‹å¼•æ“** â€” å¤æ™®/ç´¢æè¯º/Calmar/BTC åŸºå‡† Alphaï¼›`--slippage-sweep` æ»‘ç‚¹æ•æ„Ÿæ€§
- ğŸ“‰ **ç©ºå¤´å¼•æ“** â€” å¼€ç©º/å¹³ç©ºï¼›åå‘æ­¢æŸ/è¿½è¸ªï¼›ä¸å¤šå¤´å…±äº«ä»“ä½æ± 
- ğŸ¦ **Binance Testnet & å®ç›˜** â€” Spot + Futures Testnet å·²éªŒè¯
- ğŸ”” **AI ä¿¡å·è§¦å‘** â€” æ— ä¿¡å·æ—¶é›¶ token æ¶ˆè€—
- ğŸ›¡ï¸ **é£é™©ç®¡ç†** â€” æ­¢æŸ/æ­¢ç›ˆ/è¿½è¸ªæ­¢æŸ/R:R é¢„è¿‡æ»¤/æ—¥äºé™é¢/ATR ä»“ä½/åˆ†æ‰¹æ­¢ç›ˆ/æ—¶é—´æ­¢æŸ
- ğŸ **å¸‚åœºçŠ¶æ€è¿‡æ»¤** â€” è¶‹åŠ¿/æ¨ªç›˜/çªç ´ç­‰çŠ¶æ€è¯†åˆ«ï¼›æ¨ªç›˜è‡ªåŠ¨è·³è¿‡æˆ–å‡åŠä»“ä½
- ğŸ”„ **Regime è‡ªé€‚åº”å‚æ•°** â€” æ£€æµ‹åˆ°éœ‡è¡å¸‚æ—¶è‡ªåŠ¨åˆ‡æ¢ TP/æ­¢æŸ/ROI Tableï¼Œ`regime_overrides` é…ç½®
- ğŸ’¥ **æ¸…ç®—çƒ­åŠ›å›¾** (P5.3) â€” Binance åˆçº¦å…¬å¼€æ¥å£ï¼ˆæ— éœ€ Keyï¼‰ï¼ŒBTC + ETH å¤š/ç©ºçˆ†ä»“ç»Ÿè®¡ï¼Œè¾…åŠ©åˆ¤æ–­å¸‚åœºé£é™©
- ğŸ—£ï¸ **Reddit ç¤¾åŒºæƒ…ç»ª** (P5.4) â€” Reddit å…¬å¼€ JSON APIï¼ˆæ— éœ€ Authï¼‰ï¼Œr/CryptoCurrency + r/Bitcoinï¼Œå…³é”®è¯æƒ…ç»ªåˆ†æ + çƒ­å¸–æ’è¡Œ
- â±ï¸ **ROI Table æ—¶é—´è¡°å‡æ­¢ç›ˆ** â€” æŒä»“è¶Šä¹…æ­¢ç›ˆç›®æ ‡è¶Šä½ï¼ˆä»¿ Freqtrade `minimal_roi`ï¼‰ï¼›ä¸‰å¼•æ“ä¸€è‡´
- ğŸ›¡ï¸ **å…¥åœºæ»‘ç‚¹é˜²é—ªå´©** â€” ä¸‹å•å‰å®æ—¶æ£€æŸ¥ä»·æ ¼åç¦»ï¼Œè¶… `max_entry_slippage` è‡ªåŠ¨å–æ¶ˆ
- ğŸ“‹ **è®¢å•çŠ¶æ€æœº** â€” `PendingOrder` è¿½è¸ªå…¥åœº/æ­¢æŸ/æ­¢ç›ˆè®¢å•ï¼›éƒ¨åˆ†æˆäº¤å‘Šè­¦ï¼›å¯åŠ¨æ—¶æ‰«æå­¤å„¿è®¢å•
- ğŸ¯ **Kelly åŠ¨æ€ä»“ä½** â€” åŸºäºè¿‘æœŸèƒœç‡å’Œç›ˆäºæ¯”åŠ¨æ€è®¡ç®—ï¼Œæ ·æœ¬ä¸è¶³é€€åŒ–å›ºå®šæ¯”ä¾‹
- ğŸ”— **ç›¸å…³æ€§è¿‡æ»¤** â€” ç»„åˆçƒ­åº¦åŠ æƒï¼ˆéäºŒå€¼ï¼‰ï¼Œé˜ˆå€¼ 0.75ï¼Œè¿ç»­ç¼©å‡ä»“ä½
- ğŸ’¹ **èµ„é‡‘è´¹ç‡ä¿¡å·** â€” æç«¯å¤šå¤´/ç©ºå¤´æ‹¥æŒ¤æ—¶è§¦å‘é€†å‘ä¿¡å·ï¼Œ10 åˆ†é’Ÿç¼“å­˜
- ğŸ“ˆ **BTC ä¸»å¯¼ç‡è¿½è¸ª** â€” 30 å¤©å†å² + 7 æ—¥è¶‹åŠ¿ä¿¡å·ï¼ˆå±±å¯¨é£é™©/å±±å¯¨å­£èŠ‚ï¼‰
- ğŸ“Š **ä¿¡å·å½’å› åˆ†æ** â€” `npm run attribution`ï¼šç»Ÿè®¡å„ä¿¡å·ç»„åˆçš„èƒœç‡/ç›ˆäºæ¯”/æ­¢æŸæ¬¡æ•°
- ğŸ©º **Watchdog è‡ªç›‘æ§** â€” æ¯ 5 åˆ†é’Ÿæ£€æŸ¥ price_monitor æ˜¯å¦æ´»ç€ï¼›30 åˆ†é’Ÿå†·å´å‘Šè­¦
- ğŸ—‚ï¸ **æ—¥å¿—è½®è½¬** â€” æ¯æ—¥å‡Œæ™¨è‡ªåŠ¨å½’æ¡£ï¼›ä¿ç•™ 30 å¤©ï¼›æ¸…ç†æ—§å¤‡ä»½
- ğŸ”„ **æŒä»“å¯¹è´¦** â€” live-monitor å¯åŠ¨æ—¶æ¯”å¯¹æœ¬åœ° vs äº¤æ˜“æ‰€ï¼›å·®å¼‚ > 10% æš‚åœå¯åŠ¨
- ğŸ”„ **è‡ªåŠ¨ Walk-Forward** (P6.6) â€” å®šæœŸé‡ä¼˜åŒ–è°ƒåº¦å™¨ï¼›`npm run auto-wf`
- ğŸ”Œ **ç­–ç•¥æ’ä»¶ç³»ç»Ÿ** (F4) â€” å¯æ’æ‹”ç­–ç•¥ï¼šdefault (YAML)ã€rsi-reversalã€breakoutï¼›è‡ªå®šä¹‰æ’ä»¶çº¦ 20 è¡Œ
- ğŸ“Š **ç­–ç•¥çŠ¶æ€å­˜å‚¨** (P7.4) â€” è·¨ K çº¿æŒä¹…åŒ–ï¼›rsi-reversal è¿ç»­äºæŸä¿æŠ¤
- ğŸ›¡ï¸ **äº¤æ˜“æ‰€åŸç”Ÿæ­¢æŸ** (P7.1) â€” æˆäº¤ååœ¨ Binance æŒ‚ `STOP_LOSS_LIMIT`ï¼›Bot å´©æºƒä¹Ÿèƒ½ä¿å•
- âš¡ **å¼ºåˆ¶å‡ºåœº** (P7.2) â€” 3 æ¬¡å‡ºåœºè¶…æ—¶åå¸‚ä»·å•ç´§æ€¥å¹³ä»“
- ğŸ’¬ **Telegram æŒ‡ä»¤** (P7.3) â€” `/profit`ã€`/positions`ã€`/balance`ã€`/status`ã€`/forcesell BTCUSDT`ã€`/help`
- ğŸ  **ä¿æœ¬æ­¢æŸ** (P8.1) â€” ç›ˆåˆ©è¾¾é˜ˆå€¼åè‡ªåŠ¨å°† SL ç§»è‡³å…¥åœºä»·+åç§»é‡ï¼›`customStoploss()` ç­–ç•¥é’©å­
- âœ… **å‡ºåœºç¡®è®¤** (P8.2) â€” é˜²é—ªå´©ä¿æŠ¤ï¼šæ‹’ç»å¼‚å¸¸å‡ºåœºï¼›`confirmExit()` ç­–ç•¥é’©å­
- ğŸ›¡ï¸ **Protection Manager** (G1) â€” CooldownPeriod / MaxDrawdown / StoplossGuard / LowProfitPairsï¼ˆä»¿ Freqtradeï¼‰
- ğŸ“¦ **DataProvider ç¼“å­˜** (G2) â€” é›†ä¸­ K çº¿ç¼“å­˜ï¼Œ30s TTLï¼›æ¯è½®é¢„æ‹‰æ‰€æœ‰äº¤æ˜“å¯¹
- ğŸ”„ **å¢å¼ºå‹è¿½è¸ªæ­¢æŸ** (G4) â€” `trailing_stop_positive` / `trailing_stop_positive_offset` / `only_offset_is_reached`
- ğŸ’¾ **SQLite æŒä¹…åŒ–** (G5) â€” å¯é€‰ `better-sqlite3` äº¤æ˜“è®°å½•ï¼›`paper.use_sqlite: true`
- âœ… **å®Œæ•´æµ‹è¯•** â€” 1040 æ¡å•å…ƒæµ‹è¯•

## è¿è¡Œæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¯ 1 åˆ†é’Ÿ   src/monitor.ts                            â”‚
â”‚  â†’ K çº¿ â†’ VWAP/CVD/æŒ‡æ ‡ â†’ ä¿¡å·æ£€æµ‹                    â”‚
â”‚  â†’ Regime è¿‡æ»¤ â†’ R:R æ£€æŸ¥ â†’ ç›¸å…³æ€§ â†’ Kelly ä»“ä½       â”‚
â”‚  â†’ ç´§æ€¥æš‚åœ? â†’ æƒ…ç»ªé—¨æ§ â†’ æ‰§è¡Œ/é€šçŸ¥                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯ 5 åˆ†é’Ÿ   src/health/watchdog.ts                    â”‚
â”‚  â†’ æ£€æŸ¥ price_monitor å¿ƒè·³ï¼›è¶…æ—¶ â†’ Telegram å‘Šè­¦      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯ 10 åˆ†é’Ÿ  src/news/emergency-monitor.ts             â”‚
â”‚  â†’ æ‰«ææœ€æ–°æ–°é—» 30 ä¸ªé«˜å±å…³é”®è¯                        â”‚
â”‚  â†’ åŒ¹é… â‰¥ 2 â†’ æš‚åœå¼€ä»“ 2h + ç«‹å³ Telegram å‘Šè­¦       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯ 4 å°æ—¶   src/news/monitor.ts                       â”‚
â”‚  â†’ ææƒ§è´ªå©ª + æ–°é—» + æƒ…ç»ª â†’ news-report.json          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯ 30 åˆ†é’Ÿ  src/health/checker.ts                     â”‚
â”‚  â†’ æ£€æŸ¥æ‰€æœ‰ cron ä»»åŠ¡çŠ¶æ€ï¼›å¼‚å¸¸æ—¶å‘Šè­¦                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¯å¤© 0 ç‚¹   src/health/log-rotate.ts                  â”‚
â”‚  â†’ å½’æ¡£æ—¥å¿— > 20MB/24hï¼›åˆ é™¤ 30 å¤©+ å½’æ¡£              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# å¡«å†™ API Key

# ç¼–è¾‘ç­–ç•¥ï¼ˆå®æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯ï¼‰
vim config/strategy.yaml

# å•æ¬¡è¿è¡Œï¼ˆæµ‹è¯•ï¼‰
npm run monitor

# æŸ¥çœ‹æ¨¡æ‹Ÿç›˜è´¦æˆ·
npm run paper:status

# è¿è¡Œæµ‹è¯•
npm test
```

## è¿è¡Œæ¨¡å¼

| æ¨¡å¼ | è¯´æ˜ |
|---|---|
| `notify_only` | åªæ£€æµ‹ä¿¡å·å¹¶é€šçŸ¥ï¼Œä¸ä¸‹å• |
| `paper` | æ¨¡æ‹Ÿç›˜ï¼šç”¨çœŸå®ä»·æ ¼æ¨¡æ‹Ÿäº¤æ˜“ï¼Œè¿½è¸ªç›ˆäº |
| `auto` | è‡ªåŠ¨å®ç›˜äº¤æ˜“ï¼ˆè°¨æ…å¼€å¯ï¼‰|

## ä¹°å–é€»è¾‘

| ä¿¡å· | è§¦å‘æ¡ä»¶ | å¸‚åœº |
|---|---|---|
| **ä¹°å…¥** | EMA20 > EMA60ï¼ˆå¤šå¤´ï¼‰+ MACD é‡‘å‰ + RSI æœªè¶…ä¹° | Spot / Futures |
| **å–å‡º** | EMA20 < EMA60ï¼ˆè¶‹åŠ¿åè½¬ï¼‰ | Spot / Futures |
| **å¼€ç©º** | EMA20 < EMA60ï¼ˆç©ºå¤´ï¼‰+ MACD æ­»å‰ + RSI æœªè¶…å– | **Futures / Margin** |
| **å¹³ç©º** | EMA20 > EMA60ï¼ˆè¶‹åŠ¿åè½¬ï¼‰ | **Futures / Margin** |
| **æ­¢æŸ** | å¤šå¤´ï¼šä»·æ ¼ â‰¤ å…¥åœºä»·Ã—(1-SL%) Â· ç©ºå¤´ï¼šä»·æ ¼ â‰¥ å…¥åœºä»·Ã—(1+SL%) | â€” |
| **æ­¢ç›ˆ** | å¤šå¤´ï¼šä»·æ ¼ â‰¥ å…¥åœºä»·Ã—(1+TP%) Â· ç©ºå¤´ï¼šä»·æ ¼ â‰¤ å…¥åœºä»·Ã—(1-TP%) | â€” |
| **è¿½è¸ªæ­¢æŸ** | ç›ˆåˆ©è¾¾æ¿€æ´»é˜ˆå€¼åï¼Œä»æå€¼å›æ’¤ callback% è§¦å‘ | â€” |

> ç©ºå¤´å¼•æ“é‡‡ç”¨å•å‘æ¨¡å¼ï¼ˆéå¯¹å†²ï¼‰ï¼Œå¤šç©ºä»“ä½å…±äº« `max_positions` ä¸Šé™

## ç­–ç•¥æ’ä»¶ç³»ç»Ÿï¼ˆF4ï¼‰

é™¤ YAML æ¡ä»¶åŒ¹é…å¤–ï¼Œå¯ä»¥ç¼–å†™**ä»£ç ç­–ç•¥æ’ä»¶**å®ç°å¤æ‚é€»è¾‘ã€‚

**å†…ç½®æ’ä»¶ï¼š**

| ID | åç§° | æè¿° |
|---|---|---|
| `default` | YAML æ¡ä»¶åŒ¹é… | è¯»å– YAML çš„ `signals.buy/sell/short/cover`ï¼ˆç°æœ‰è¡Œä¸ºï¼Œå®Œå…¨ä¸å˜ï¼‰ |
| `rsi-reversal` | RSI å‡å€¼å›å½’ | RSI < 30 ä¹°å…¥ï¼ˆè¶…å–ï¼‰ï¼›RSI > 70 å–å‡ºï¼ˆè¶…ä¹°ï¼‰ã€‚é€‚åˆæ¨ªç›˜éœ‡è¡å¸‚ã€‚ |
| `breakout` | è¶‹åŠ¿çªç ´ | æ”¶ç›˜çªç ´ N æ ¹é«˜ç‚¹ + é‡èƒ½æ”¾å¤§ â†’ ä¹°å…¥ï¼›è·Œç ´ N æ ¹ä½ç‚¹ â†’ å–å‡ºã€‚é€‚åˆè¶‹åŠ¿è¡Œæƒ…ã€‚ |

**ä½¿ç”¨æ’ä»¶** â€” åœ¨ç­–ç•¥ profile YAML ä¸­è®¾ç½® `strategy_id`ï¼š

```yaml
# config/strategies/my-strategy.yaml
name: "RSI å‡å€¼å›å½’ç­–ç•¥"
strategy_id: "rsi-reversal"   # â† é€‰æ‹©æ’ä»¶
rsi:
  oversold: 30
  overbought: 70
```

**åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶**ï¼ˆTypeScriptï¼Œçº¦ 20 è¡Œï¼‰ï¼š

```typescript
// src/strategies/my-plugin.ts
import type { Strategy, StrategyContext } from "./types.js";
import { registerStrategy } from "./registry.js";

const myStrategy: Strategy = {
  id: "my-plugin",
  name: "æˆ‘çš„è‡ªå®šä¹‰ç­–ç•¥",
  description: "ç¤ºä¾‹æ’ä»¶",
  populateSignal(ctx: StrategyContext) {
    const { indicators } = ctx;
    if (indicators.rsi < 25 && indicators.maShort > indicators.maLong) return "buy";
    if (indicators.rsi > 75) return "sell";
    return "none";
  },
};

registerStrategy(myStrategy);
export { myStrategy };
```

ç„¶ååœ¨ `src/strategies/index.ts` ä¸­å¯¼å…¥ï¼š
```typescript
import "./my-plugin.js";   // è§¦å‘æ³¨å†Œ
```

```bash
npm run strategies   # åˆ—å‡ºæ‰€æœ‰å·²æ³¨å†Œç­–ç•¥åŠæè¿°
```

## Telegram æŒ‡ä»¤ï¼ˆP7.3ï¼‰

é€šè¿‡ Telegram æˆ– CLI å‘é€äº¤äº’æŒ‡ä»¤ï¼š

```bash
# ç›´æ¥è¿è¡ŒæŒ‡ä»¤
npm run cmd -- "/profit"
npm run cmd -- "/positions"
npm run cmd -- "/forcesell BTCUSDT testnet-default"
```

| æŒ‡ä»¤ | è¯´æ˜ |
|------|------|
| `/profit` | æ˜¾ç¤ºæ‰€æœ‰åœºæ™¯çš„ç›ˆäºæ±‡æ€» |
| `/positions` | åˆ—å‡ºæ‰€æœ‰æŒä»“ |
| `/balance` | æ˜¾ç¤ºå„åœºæ™¯çš„ USDT ä½™é¢ |
| `/status` | ç³»ç»ŸçŠ¶æ€ï¼ˆè¿è¡Œæ—¶é—´ã€å¥åº·çŠ¶å†µï¼‰ |
| `/forcesell SYMBOL [scenario]` | å¼ºåˆ¶å¹³ä»“æŒ‡å®šä»“ä½ |
| `/help` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨æŒ‡ä»¤ |

## å›æµ‹ä½¿ç”¨

```bash
# é»˜è®¤ç­–ç•¥å›æµ‹ï¼ˆ90 å¤©ï¼‰
npm run backtest

# æŒ‡å®šç­–ç•¥å’Œå¤©æ•°
npm run backtest -- --strategy conservative --days 90
npm run backtest -- --strategy aggressive --days 60

# è‡ªå®šä¹‰å¸ç§å’Œæ—¶é—´æ¡†æ¶
npm run backtest -- --strategy trend --symbols BTCUSDT,ETHUSDT --timeframe 4h --days 180

# æ‰€æœ‰ç­–ç•¥å¯¹æ¯”
npm run backtest:compare -- --days 90
```

å›æµ‹ç»“æœåŒ…æ‹¬ï¼šæ€»æ”¶ç›Šã€æœ€å¤§å›æ’¤ã€å¤æ™®æ¯”ç‡ã€èƒœç‡ã€åˆ©æ¶¦å› å­ã€å‡ºåœºåŸå› åˆ†å¸ƒã€å„å¸ç§è¡¨ç°ï¼ŒJSON æŠ¥å‘Šä¿å­˜åœ¨ `logs/backtest/`ã€‚

## Hyperopt â€” ç­–ç•¥å‚æ•°è‡ªåŠ¨ä¼˜åŒ–

ä½¿ç”¨è´å¶æ–¯ä¼˜åŒ–ï¼ˆTPE + ç²¾è‹±è¿›åŒ–ï¼‰è‡ªåŠ¨æœç´¢æœ€ä¼˜ç­–ç•¥å‚æ•°ï¼Œæ›¿ä»£æ‰‹åŠ¨è°ƒå‚ï¼š

```bash
# å¯¹ BTCUSDT è¿è¡Œ 100 è½®ä¼˜åŒ–ï¼ˆæœ€è¿‘ 60 å¤©æ•°æ®ï¼‰
npm run hyperopt -- --symbol BTCUSDT --trials 100

# æ›´é•¿å†å²ï¼Œç»“æœæ›´ç¨³å¥
npm run hyperopt -- --symbol BTCUSDT --trials 200 --days 90

# å¯ç”¨ Walk-Forward éªŒè¯ï¼ˆ70% è®­ç»ƒ / 30% æµ‹è¯•ï¼‰
npm run hyperopt -- --symbol BTCUSDT --trials 100 --walk-forward

# å›ºå®šéšæœºç§å­ï¼ˆå¯å¤ç°ï¼‰
npm run hyperopt -- --symbol BTCUSDT --trials 100 --seed 42
```

**å·¥ä½œåŸç†ï¼š**
1. **é¢„çƒ­é˜¶æ®µ**ï¼ˆå‰ 20 è½®ï¼‰ï¼šåœ¨ 8 ç»´å‚æ•°ç©ºé—´éšæœºé‡‡æ ·
2. **ä¼˜åŒ–é˜¶æ®µ**ï¼šTPEï¼ˆé«˜æ–¯æ ¸å¯†åº¦ä¼°è®¡ï¼‰+ ç²¾è‹±æ‰°åŠ¨ï¼Œé€‰æ‹©æœŸæœ›æ”¹è¿›ï¼ˆEIï¼‰æœ€å¤§çš„å€™é€‰å‚æ•°
3. **ç›®æ ‡å‡½æ•°**ï¼š`score = sharpe_ratio - 0.5 Ã— æœ€å¤§å›æ’¤%`ï¼ˆè¶Šé«˜è¶Šå¥½ï¼‰
4. **çº¦æŸ**ï¼šå§‹ç»ˆå¼ºåˆ¶ `ma_short < ma_long`ï¼ˆè¿åçº¦æŸè¿”å› score=-999ï¼‰

**ä¼˜åŒ–å‚æ•°ç©ºé—´ï¼ˆ8 ç»´ï¼‰ï¼š**
- `ma_short`ï¼ˆ5~50ï¼‰ã€`ma_long`ï¼ˆ20~200ï¼‰ï¼šå‡çº¿å‘¨æœŸ
- `rsi_period`ï¼ˆ7~21ï¼‰ã€`rsi_overbought`ï¼ˆ60~80ï¼‰ã€`rsi_oversold`ï¼ˆ20~40ï¼‰ï¼šRSI å‚æ•°
- `stop_loss_pct`ï¼ˆ2%~10%ï¼‰ï¼šæ­¢æŸæ¯”ä¾‹
- `take_profit_pct`ï¼ˆ5%~30%ï¼‰ï¼šæ­¢ç›ˆæ¯”ä¾‹
- `position_ratio`ï¼ˆ10%~40%ï¼‰ï¼šå•ç¬”ä»“ä½å¤§å°

**è¾“å‡ºç»“æœï¼š**
- æœ€ä¼˜å‚æ•° + å¯ç›´æ¥ç²˜è´´çš„ `strategy.yaml` é…ç½®ç‰‡æ®µ
- æœ€ä¼˜å‚æ•°çš„å›æµ‹æŒ‡æ ‡ï¼ˆå¤æ™®ã€æœ€å¤§å›æ’¤ã€èƒœç‡ç­‰ï¼‰
- Walk-Forward éªŒè¯ï¼ˆè®­ç»ƒé›†/æµ‹è¯•é›†æ€§èƒ½é€€åŒ–ç‡ï¼‰
- å®Œæ•´è¯•éªŒå†å²ä¿å­˜è‡³ `logs/hyperopt-results.json`

## åŠ¨æ€å¸ç§åˆ—è¡¨ï¼ˆP6.2ï¼‰

æ¯æ—¥ä» Binance è‡ªåŠ¨é€‰å–æœ€ä¼˜äº¤æ˜“å¯¹ï¼Œæ›¿ä»£å›ºå®š 8 ä¸ªå¸ç§ï¼š

```bash
# æ‰‹åŠ¨åˆ·æ–°åŠ¨æ€å¸ç§åˆ—è¡¨
npm run pairlist:refresh

# é€šè¿‡ cron åœ¨æ¯å¤©å‡Œæ™¨è‡ªåŠ¨è¿è¡Œ
npm run cron:sync
```

**ç­›é€‰é€»è¾‘ï¼š**
1. è°ƒç”¨ `GET https://api.binance.com/api/v3/ticker/24hr`ï¼ˆå…è´¹ï¼Œæ— éœ€ API Keyï¼‰
2. è¿‡æ»¤ï¼šä»…ä¿ç•™ USDT è®¡ä»· + æ’é™¤ç¨³å®šå¸ï¼ˆUSDC/BUSD/DAI ç­‰ï¼‰+ æ’é™¤æ æ†ä»£å¸ï¼ˆUP/DOWN/BEAR/BULLï¼‰
3. æŒ‰ 24h æˆäº¤é‡ â‰¥ 50M USDT è¿‡æ»¤ï¼ˆå¯é…ç½®ï¼‰
4. æŒ‰æˆäº¤é‡ / æ³¢åŠ¨ç‡ / åŠ¨é‡æ’åºï¼ˆå¯é…ç½®ï¼‰
5. å–å‰ 15 ä¸ªï¼›ç™½åå•å§‹ç»ˆåŒ…å«ï¼Œé»‘åå•å§‹ç»ˆæ’é™¤

æ£€æµ‹åˆ°å˜åŒ–æ—¶ï¼Œé€šè¿‡ Telegram é€šçŸ¥æ–°å¢/ç§»é™¤çš„å¸ç§ï¼Œå¹¶æ›´æ–° `logs/current-pairlist.json`ã€‚

## Web å®æ—¶ä»ªè¡¨ç›˜ï¼ˆP6.8ï¼‰

è½»é‡çº§ Web ç•Œé¢ï¼Œå®æ—¶å±•ç¤ºæŒä»“çŠ¶æ€ã€èµ„é‡‘æ›²çº¿å’Œä¿¡å·å†å²ï¼š

```bash
# å¯åŠ¨ä»ªè¡¨ç›˜æœåŠ¡å™¨ï¼ˆé»˜è®¤ 8080 ç«¯å£ï¼‰
npm run dashboard

# è‡ªå®šä¹‰ç«¯å£
DASHBOARD_PORT=3000 npm run dashboard
```

**API ç«¯ç‚¹ï¼š**
- `GET /` â€” HTML ä»ªè¡¨ç›˜é¡µé¢ï¼ˆæ¯ 10 ç§’è‡ªåŠ¨åˆ·æ–°ï¼‰
- `GET /api/data` â€” JSON æ•°æ®ï¼ˆè´¦æˆ·ã€æŒä»“ã€äº¤æ˜“è®°å½•ã€èµ„é‡‘æ›²çº¿ã€ä¿¡å·ï¼‰
- `GET /api/health` â€” ç³»ç»Ÿå¥åº·çŠ¶æ€ï¼ˆè¿è¡Œæ—¶é—´ã€å†…å­˜ã€Node.js ç‰ˆæœ¬ï¼‰

**ä»ªè¡¨ç›˜åŠŸèƒ½ï¼š**
- æ€»èµ„äº§ + ä»Šæ—¥ç›ˆäºï¼ˆå¤§å­—æ˜¾ç¤ºï¼‰
- æŒä»“è¡¨æ ¼ï¼šå¸ç§ / å…¥åœºä»· / PnL% / æ­¢æŸè·ç¦»
- èµ„é‡‘æ›²çº¿å›¾ï¼ˆChart.jsï¼Œä»åˆå§‹èµ„é‡‘åˆ°ç°åœ¨ï¼‰
- æœ€è¿‘ 20 ç¬”äº¤æ˜“è®°å½•
- æœ€è¿‘ 20 æ¡ä¿¡å·å†å²

## å¥åº·ç›‘æ§

```bash
# æ‰‹åŠ¨å¥åº·æ£€æŸ¥
npm run health:check

# ä»é…ç½®åŒæ­¥ cron
npm run cron:sync

# åˆ—å‡ºå½“å‰ cron ä»»åŠ¡
npm run cron:list
```

å¥åº·çŠ¶æ€çº§åˆ«ï¼š
- âœ… `ok` â€” ä»»åŠ¡åœ¨é¢„æœŸé—´éš”å†…è¿è¡Œ
- âš ï¸ `warn` â€” ä»»åŠ¡é€¾æœŸï¼ˆè¶…è¿‡ `timeout_minutes` æœªè¿è¡Œï¼‰
- âŒ `error` â€” ä¸Šæ¬¡è¿è¡Œå‡ºé”™
- ğŸ”˜ `never` â€” ä»»åŠ¡ä»æœªè¿è¡Œï¼ˆæ–°éƒ¨ç½²åæ­£å¸¸ï¼‰

ä»…åœ¨æ£€æµ‹åˆ°é—®é¢˜æ—¶å‘é€ Telegram å‘Šè­¦ï¼ˆå¥åº·æ—¶é™é»˜ï¼‰ã€‚

## è¿›åº¦

**Phase 0 â€” ä¿®å¤è‡´å‘½é—®é¢˜** âœ…
- [x] Regime å¸‚åœºçŠ¶æ€æ„ŸçŸ¥ï¼ˆbreakout_watch è·³è¿‡ / reduced_size å‡ä»“ï¼‰
- [x] åŠ¨é‡è¡°ç«­å‡ºåœºï¼š`macd_histogram_shrinking` + `rsi_overbought_exit`
- [x] å›æµ‹å‚æ•°ä¿®æ­£ï¼šçœŸå®æ»‘ç‚¹ + `--slippage-sweep` æ»‘ç‚¹æ•æ„Ÿæ€§
- [x] BTC Benchmark + Calmar æ¯”ç‡ + Alpha è¶…é¢æ”¶ç›Š

**Phase 1 â€” æ ¸å¿ƒ Alpha** âœ…
- [x] R:R å…¥åœºé¢„è¿‡æ»¤ï¼ˆ`risk.min_rr`ï¼Œå¯é€‰å¼€å¯ï¼‰
- [x] CVD ç´¯è®¡æˆäº¤é‡å·®å€¼ï¼ˆK çº¿è¿‘ä¼¼ + aggTrade WebSocket æ¡†æ¶ï¼‰
- [x] ç›¸å…³æ€§è¿‡æ»¤é»˜è®¤å¼€å¯ï¼ˆé˜ˆå€¼ 0.75ï¼Œè¿ç»­ç¼©å‡ï¼‰
- [x] èµ„é‡‘è´¹ç‡é€†å‘ä¿¡å·ï¼ˆ10 åˆ†é’Ÿç¼“å­˜ï¼‰

**Phase 2 â€” é£é™©ä¸å½’å› ** âœ…
- [x] VWAP æ—¥å†…ï¼ˆÂ±1Ïƒ/Â±2Ïƒï¼‰+ 6 ä¸ªä¿¡å·æ¡ä»¶
- [x] BTC ä¸»å¯¼ç‡ 30 å¤©å†å² + è¶‹åŠ¿ä¿¡å·
- [x] ä¿¡å·å½’å› æŠ¥å‘Šï¼ˆ`npm run attribution`ï¼‰
- [x] Kelly åŠ¨æ€ä»“ä½ï¼ˆåŠ Kellyï¼Œæ ·æœ¬ä¸è¶³é€€åŒ–å›ºå®šï¼‰

**Phase 3 â€” è¿ç»´åŠ å›º** âœ…
- [x] Watchdogï¼šprice_monitor è¶… 3 åˆ†é’Ÿæœªè¿è¡Œ â†’ Telegram å‘Šè­¦
- [x] æ—¥å¿—è½®è½¬ï¼šæ¯æ—¥å½’æ¡£ï¼Œä¿ç•™ 30 å¤©ï¼Œæ¸…ç† 7 å¤©+ å¤‡ä»½
- [x] å¯åŠ¨æŒä»“å¯¹è´¦ï¼šæœ¬åœ° vs äº¤æ˜“æ‰€ï¼Œå·®å¼‚ > 10% æš‚åœ
- [x] çªå‘æ–°é—»ç›‘æ§ï¼š30 ä¸ªé«˜å±è¯ï¼Œè§¦å‘è‡ªåŠ¨æš‚åœå¼€ä»“ 2h

**Phase 4 â€” è¿›é˜¶** *(éœ€ 50+ ç¬”çœŸå®äº¤æ˜“è®°å½•)*
- [ ] å®ç›˜è‡ªåŠ¨äº¤æ˜“ï¼ˆ`mode: auto`ï¼‰

**Phase 6 â€” æ™ºèƒ½ä¸è¿ç»´** âœ…
- [x] P6.1 Hyperopt è´å¶æ–¯å‚æ•°ä¼˜åŒ–ï¼ˆ`npm run hyperopt`ï¼‰
- [x] P6.2 åŠ¨æ€å¸ç§åˆ—è¡¨ â€” æ¯æ—¥ä» Binance è‡ªåŠ¨é€‰å–ï¼ˆ`npm run pairlist:refresh`ï¼‰
- [x] P6.3 K çº¿å†…å›æµ‹ä»¿çœŸ
- [x] P6.4 æœŸæƒå¸‚åœºæ•°æ®ä¿¡å·
- [x] P6.5 ç»æµæ—¥å†é£é™©é—¨æ§
- [x] P6.6 è‡ªåŠ¨ Walk-Forward â€” å®šæœŸé‡ä¼˜åŒ–ï¼ˆ`npm run auto-wf`ï¼‰
- [x] P6.7 ç†”æ–­å™¨ï¼ˆKill Switchï¼‰
- [x] P6.8 Web å®æ—¶ä»ªè¡¨ç›˜ï¼ˆ`npm run dashboard`ï¼‰

**Phase 7 â€” å¯é æ€§ä¸å®‰å…¨** âœ…
- [x] P7.1 äº¤æ˜“æ‰€åŸç”Ÿæ­¢æŸï¼ˆBinance ä¸ŠæŒ‚ STOP_LOSS_LIMITï¼‰
- [x] P7.2 å¼ºåˆ¶å‡ºåœºï¼ˆ3 æ¬¡è¶…æ—¶åå¸‚ä»·å•å¹³ä»“ï¼‰
- [x] P7.3 Telegram äº¤äº’æŒ‡ä»¤ï¼ˆ/profitã€/positionsã€/forcesellâ€¦ï¼‰
- [x] P7.4 ç­–ç•¥çŠ¶æ€å­˜å‚¨ï¼ˆè·¨ K çº¿æŒä¹…åŒ–ï¼‰

**Phase 8 â€” Freqtrade å¯¹é½** âœ…
- [x] P8.1 ä¿æœ¬æ­¢æŸ + customStoploss() ç­–ç•¥é’©å­
- [x] P8.2 å‡ºåœºç¡®è®¤ + confirmExit() ç­–ç•¥é’©å­

**Phase G â€” Freqtrade å¯¹é½ï¼ˆè¡¥å……ï¼‰** âœ…
- [x] G1 Protection Managerï¼ˆ4 ä¸ªä¿æŠ¤æ’ä»¶ï¼‰
- [x] G2 DataProvider é›†ä¸­ K çº¿ç¼“å­˜
- [x] G3 å®Œæ•´è®¢å•è¶…æ—¶å¾ªç¯
- [x] G4 å¢å¼ºå‹è¿½è¸ªæ­¢æŸï¼ˆpositive/offsetï¼‰
- [x] G5 SQLite å¯é€‰æŒä¹…åŒ–
- [x] G6 P5.3/P5.4 è°ƒç ”ï¼ˆBinance OI + Redditï¼‰
